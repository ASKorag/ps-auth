!function(){var t={669:function(t,e,n){t.exports=n(609)},448:function(t,e,n){"use strict";var a=n(867),r=n(26),s=n(372),i=n(327),o=n(97),c=n(109),l=n(985),u=n(61),d=n(655),p=n(263);t.exports=function(t){return new Promise((function(e,n){var h,f=t.data,m=t.headers,g=t.responseType;function b(){t.cancelToken&&t.cancelToken.unsubscribe(h),t.signal&&t.signal.removeEventListener("abort",h)}a.isFormData(f)&&delete m["Content-Type"];var y=new XMLHttpRequest;if(t.auth){var v=t.auth.username||"",w=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";m.Authorization="Basic "+btoa(v+":"+w)}var L=o(t.baseURL,t.url);function E(){if(y){var a="getAllResponseHeaders"in y?c(y.getAllResponseHeaders()):null,s={data:g&&"text"!==g&&"json"!==g?y.response:y.responseText,status:y.status,statusText:y.statusText,headers:a,config:t,request:y};r((function(t){e(t),b()}),(function(t){n(t),b()}),s),y=null}}if(y.open(t.method.toUpperCase(),i(L,t.params,t.paramsSerializer),!0),y.timeout=t.timeout,"onloadend"in y?y.onloadend=E:y.onreadystatechange=function(){y&&4===y.readyState&&(0!==y.status||y.responseURL&&0===y.responseURL.indexOf("file:"))&&setTimeout(E)},y.onabort=function(){y&&(n(u("Request aborted",t,"ECONNABORTED",y)),y=null)},y.onerror=function(){n(u("Network Error",t,null,y)),y=null},y.ontimeout=function(){var e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",a=t.transitional||d.transitional;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(u(e,t,a.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",y)),y=null},a.isStandardBrowserEnv()){var S=(t.withCredentials||l(L))&&t.xsrfCookieName?s.read(t.xsrfCookieName):void 0;S&&(m[t.xsrfHeaderName]=S)}"setRequestHeader"in y&&a.forEach(m,(function(t,e){void 0===f&&"content-type"===e.toLowerCase()?delete m[e]:y.setRequestHeader(e,t)})),a.isUndefined(t.withCredentials)||(y.withCredentials=!!t.withCredentials),g&&"json"!==g&&(y.responseType=t.responseType),"function"==typeof t.onDownloadProgress&&y.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&y.upload&&y.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(h=function(t){y&&(n(!t||t&&t.type?new p("canceled"):t),y.abort(),y=null)},t.cancelToken&&t.cancelToken.subscribe(h),t.signal&&(t.signal.aborted?h():t.signal.addEventListener("abort",h))),f||(f=null),y.send(f)}))}},609:function(t,e,n){"use strict";var a=n(867),r=n(849),s=n(321),i=n(185),o=function t(e){var n=new s(e),o=r(s.prototype.request,n);return a.extend(o,s.prototype,n),a.extend(o,n),o.create=function(n){return t(i(e,n))},o}(n(655));o.Axios=s,o.Cancel=n(263),o.CancelToken=n(972),o.isCancel=n(502),o.VERSION=n(288).version,o.all=function(t){return Promise.all(t)},o.spread=n(713),o.isAxiosError=n(268),t.exports=o,t.exports.default=o},263:function(t){"use strict";function e(t){this.message=t}e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,t.exports=e},972:function(t,e,n){"use strict";var a=n(263);function r(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;this.promise.then((function(t){if(n._listeners){var e,a=n._listeners.length;for(e=0;e<a;e++)n._listeners[e](t);n._listeners=null}})),this.promise.then=function(t){var e,a=new Promise((function(t){n.subscribe(t),e=t})).then(t);return a.cancel=function(){n.unsubscribe(e)},a},t((function(t){n.reason||(n.reason=new a(t),e(n.reason))}))}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.prototype.subscribe=function(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]},r.prototype.unsubscribe=function(t){if(this._listeners){var e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}},r.source=function(){var t;return{token:new r((function(e){t=e})),cancel:t}},t.exports=r},502:function(t){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},321:function(t,e,n){"use strict";var a=n(867),r=n(327),s=n(782),i=n(572),o=n(185),c=n(875),l=c.validators;function u(t){this.defaults=t,this.interceptors={request:new s,response:new s}}u.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=o(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=t.transitional;void 0!==e&&c.assertOptions(e,{silentJSONParsing:l.transitional(l.boolean),forcedJSONParsing:l.transitional(l.boolean),clarifyTimeoutError:l.transitional(l.boolean)},!1);var n=[],a=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,n.unshift(e.fulfilled,e.rejected))}));var r,s=[];if(this.interceptors.response.forEach((function(t){s.push(t.fulfilled,t.rejected)})),!a){var u=[i,void 0];for(Array.prototype.unshift.apply(u,n),u=u.concat(s),r=Promise.resolve(t);u.length;)r=r.then(u.shift(),u.shift());return r}for(var d=t;n.length;){var p=n.shift(),h=n.shift();try{d=p(d)}catch(t){h(t);break}}try{r=i(d)}catch(t){return Promise.reject(t)}for(;s.length;)r=r.then(s.shift(),s.shift());return r},u.prototype.getUri=function(t){return t=o(this.defaults,t),r(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},a.forEach(["delete","get","head","options"],(function(t){u.prototype[t]=function(e,n){return this.request(o(n||{},{method:t,url:e,data:(n||{}).data}))}})),a.forEach(["post","put","patch"],(function(t){u.prototype[t]=function(e,n,a){return this.request(o(a||{},{method:t,url:e,data:n}))}})),t.exports=u},782:function(t,e,n){"use strict";var a=n(867);function r(){this.handlers=[]}r.prototype.use=function(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},r.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},r.prototype.forEach=function(t){a.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=r},97:function(t,e,n){"use strict";var a=n(793),r=n(303);t.exports=function(t,e){return t&&!a(e)?r(t,e):e}},61:function(t,e,n){"use strict";var a=n(481);t.exports=function(t,e,n,r,s){var i=new Error(t);return a(i,e,n,r,s)}},572:function(t,e,n){"use strict";var a=n(867),r=n(527),s=n(502),i=n(655),o=n(263);function c(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new o("canceled")}t.exports=function(t){return c(t),t.headers=t.headers||{},t.data=r.call(t,t.data,t.headers,t.transformRequest),t.headers=a.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),a.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||i.adapter)(t).then((function(e){return c(t),e.data=r.call(t,e.data,e.headers,t.transformResponse),e}),(function(e){return s(e)||(c(t),e&&e.response&&(e.response.data=r.call(t,e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},481:function(t){"use strict";t.exports=function(t,e,n,a,r){return t.config=e,n&&(t.code=n),t.request=a,t.response=r,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t}},185:function(t,e,n){"use strict";var a=n(867);t.exports=function(t,e){e=e||{};var n={};function r(t,e){return a.isPlainObject(t)&&a.isPlainObject(e)?a.merge(t,e):a.isPlainObject(e)?a.merge({},e):a.isArray(e)?e.slice():e}function s(n){return a.isUndefined(e[n])?a.isUndefined(t[n])?void 0:r(void 0,t[n]):r(t[n],e[n])}function i(t){if(!a.isUndefined(e[t]))return r(void 0,e[t])}function o(n){return a.isUndefined(e[n])?a.isUndefined(t[n])?void 0:r(void 0,t[n]):r(void 0,e[n])}function c(n){return n in e?r(t[n],e[n]):n in t?r(void 0,t[n]):void 0}var l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c};return a.forEach(Object.keys(t).concat(Object.keys(e)),(function(t){var e=l[t]||s,r=e(t);a.isUndefined(r)&&e!==c||(n[t]=r)})),n}},26:function(t,e,n){"use strict";var a=n(61);t.exports=function(t,e,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?e(a("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},527:function(t,e,n){"use strict";var a=n(867),r=n(655);t.exports=function(t,e,n){var s=this||r;return a.forEach(n,(function(n){t=n.call(s,t,e)})),t}},655:function(t,e,n){"use strict";var a=n(867),r=n(16),s=n(481),i={"Content-Type":"application/x-www-form-urlencoded"};function o(t,e){!a.isUndefined(t)&&a.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var c,l={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(c=n(448)),c),transformRequest:[function(t,e){return r(e,"Accept"),r(e,"Content-Type"),a.isFormData(t)||a.isArrayBuffer(t)||a.isBuffer(t)||a.isStream(t)||a.isFile(t)||a.isBlob(t)?t:a.isArrayBufferView(t)?t.buffer:a.isURLSearchParams(t)?(o(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):a.isObject(t)||e&&"application/json"===e["Content-Type"]?(o(e,"application/json"),function(t,e,n){if(a.isString(t))try{return(0,JSON.parse)(t),a.trim(t)}catch(t){if("SyntaxError"!==t.name)throw t}return(0,JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){var e=this.transitional||l.transitional,n=e&&e.silentJSONParsing,r=e&&e.forcedJSONParsing,i=!n&&"json"===this.responseType;if(i||r&&a.isString(t)&&t.length)try{return JSON.parse(t)}catch(t){if(i){if("SyntaxError"===t.name)throw s(t,this,"E_JSON_PARSE");throw t}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};a.forEach(["delete","get","head"],(function(t){l.headers[t]={}})),a.forEach(["post","put","patch"],(function(t){l.headers[t]=a.merge(i)})),t.exports=l},288:function(t){t.exports={version:"0.24.0"}},849:function(t){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),a=0;a<n.length;a++)n[a]=arguments[a];return t.apply(e,n)}}},327:function(t,e,n){"use strict";var a=n(867);function r(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var s;if(n)s=n(e);else if(a.isURLSearchParams(e))s=e.toString();else{var i=[];a.forEach(e,(function(t,e){null!=t&&(a.isArray(t)?e+="[]":t=[t],a.forEach(t,(function(t){a.isDate(t)?t=t.toISOString():a.isObject(t)&&(t=JSON.stringify(t)),i.push(r(e)+"="+r(t))})))})),s=i.join("&")}if(s){var o=t.indexOf("#");-1!==o&&(t=t.slice(0,o)),t+=(-1===t.indexOf("?")?"?":"&")+s}return t}},303:function(t){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},372:function(t,e,n){"use strict";var a=n(867);t.exports=a.isStandardBrowserEnv()?{write:function(t,e,n,r,s,i){var o=[];o.push(t+"="+encodeURIComponent(e)),a.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),a.isString(r)&&o.push("path="+r),a.isString(s)&&o.push("domain="+s),!0===i&&o.push("secure"),document.cookie=o.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},793:function(t){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},268:function(t){"use strict";t.exports=function(t){return"object"==typeof t&&!0===t.isAxiosError}},985:function(t,e,n){"use strict";var a=n(867);t.exports=a.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(t){var a=t;return e&&(n.setAttribute("href",a),a=n.href),n.setAttribute("href",a),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=r(window.location.href),function(e){var n=a.isString(e)?r(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},16:function(t,e,n){"use strict";var a=n(867);t.exports=function(t,e){a.forEach(t,(function(n,a){a!==e&&a.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[a])}))}},109:function(t,e,n){"use strict";var a=n(867),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,s,i={};return t?(a.forEach(t.split("\n"),(function(t){if(s=t.indexOf(":"),e=a.trim(t.substr(0,s)).toLowerCase(),n=a.trim(t.substr(s+1)),e){if(i[e]&&r.indexOf(e)>=0)return;i[e]="set-cookie"===e?(i[e]?i[e]:[]).concat([n]):i[e]?i[e]+", "+n:n}})),i):i}},713:function(t){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},875:function(t,e,n){"use strict";var a=n(288).version,r={};["object","boolean","number","function","string","symbol"].forEach((function(t,e){r[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}}));var s={};r.transitional=function(t,e,n){function r(t,e){return"[Axios v"+a+"] Transitional option '"+t+"'"+e+(n?". "+n:"")}return function(n,a,i){if(!1===t)throw new Error(r(a," has been removed"+(e?" in "+e:"")));return e&&!s[a]&&(s[a]=!0,console.warn(r(a," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(n,a,i)}},t.exports={assertOptions:function(t,e,n){if("object"!=typeof t)throw new TypeError("options must be an object");for(var a=Object.keys(t),r=a.length;r-- >0;){var s=a[r],i=e[s];if(i){var o=t[s],c=void 0===o||i(o,s,t);if(!0!==c)throw new TypeError("option "+s+" must be "+c)}else if(!0!==n)throw Error("Unknown option "+s)}},validators:r}},867:function(t,e,n){"use strict";var a=n(849),r=Object.prototype.toString;function s(t){return"[object Array]"===r.call(t)}function i(t){return void 0===t}function o(t){return null!==t&&"object"==typeof t}function c(t){if("[object Object]"!==r.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function l(t){return"[object Function]"===r.call(t)}function u(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),s(t))for(var n=0,a=t.length;n<a;n++)e.call(null,t[n],n,t);else for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.call(null,t[r],r,t)}t.exports={isArray:s,isArrayBuffer:function(t){return"[object ArrayBuffer]"===r.call(t)},isBuffer:function(t){return null!==t&&!i(t)&&null!==t.constructor&&!i(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:o,isPlainObject:c,isUndefined:i,isDate:function(t){return"[object Date]"===r.call(t)},isFile:function(t){return"[object File]"===r.call(t)},isBlob:function(t){return"[object Blob]"===r.call(t)},isFunction:l,isStream:function(t){return o(t)&&l(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:u,merge:function t(){var e={};function n(n,a){c(e[a])&&c(n)?e[a]=t(e[a],n):c(n)?e[a]=t({},n):s(n)?e[a]=n.slice():e[a]=n}for(var a=0,r=arguments.length;a<r;a++)u(arguments[a],n);return e},extend:function(t,e,n){return u(e,(function(e,r){t[r]=n&&"function"==typeof e?a(e,n):e})),t},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}}},306:function(){"use strict";const t=document.getElementById("login");function e(){!function(){const t=document.querySelector("header")?.offsetHeight,e=document.querySelector("main");e&&(e.style.paddingTop=`${t}px`)}()}document.getElementById("popupWrapper"),window.innerWidth<720&&t?.classList.add("login"),window.addEventListener("load",e),window.addEventListener("resize",e)}},e={};function n(a){var r=e[a];if(void 0!==r)return r.exports;var s=e[a]={exports:{}};return t[a](s,s.exports,n),s.exports}n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){"use strict";n(306);var t=n(669),e=n.n(t);const a=e().create({baseURL:"https://wg-force3-backend.herokuapp.com/api/",withCredentials:!1});e().create({baseURL:"https://eu1.locationiq.com/v1/"}),e().create({baseURL:"http://ipwhois.app/json/"});var r=class{static async getUserByID(t){try{return console.log(`getUserByID id:${t} `),(await a.get(`user?id=${t}`)).data.data}catch(t){throw new Error("error in API getUserByID!")}}static async getAllUsers(){try{return(await a.get("users")).data.data}catch(t){throw new Error("error in API getAllUsers!!")}}static async addUser(t){try{return(await a.post("user",{name:t})).data.data}catch(t){throw new Error("Ooops!")}}static async changeUserData(t){try{return(await a.post("userData",{data:t})).data.data}catch(t){throw new Error("error in API changeUserData!!!")}}},s=class{static async getProductsByFilter(t,e){try{return(await a.get(`product/filter?filter=${t}&currency=${e}`)).data.data}catch(t){throw new Error("error in API getProductsByFilter!!!!")}}static async getAllProductsByLazy(t=1,e=20,n="$"){try{return(await a.get(`allProducts?pageNumber=${t}&pageSize=${e}&currency=${n}`)).data.data}catch(t){throw new Error("error in API getAllProductsByLazy!!!!")}}static async getProductsByList(t,e){try{return(await a.post("products",{listProductsId:t,currency:e})).data.data}catch(t){throw new Error("error in API getProductsByList!!!!")}}};const i=e().create({baseURL:"https://wg-server-auth.herokuapp.com/api/",withCredentials:!0});i.interceptors.request.use((t=>{if(t.headers)return t.headers.Authorization=`Bearer ${localStorage.getItem("token")}`,t})),e().interceptors.response.use((t=>t),(t=>(t.response||console.log("Please check your internet connection."),Promise.reject(t)))),i.interceptors.response.use((t=>t),(t=>(t.response||console.log("Please check your internet connection."),Promise.reject(t)))),i.interceptors.response.use((t=>t),(async t=>{const e=t.config;if(401===t.response.status)try{const t=await c.refresh();return localStorage.setItem("token",t.accessToken),i.request(e)}catch(t){console.log("не авторизован в интерсепторе")}}));var o=i;const c={login:(t,e)=>o.post("/login",{email:t,password:e}).then((t=>t.data)).catch((t=>{t.response||t.request})),registration:(t,e,n)=>o.post("/registration",{email:t,password:e,name:n}).then((t=>t.data)),logout:()=>o.post("/logout").then((t=>t.data)),refresh:()=>o.get("/refresh").then((t=>t.data))};class l{#t;#e;#n;#a;#r;constructor(t,e,n,a,r){this.#t=t,this.#e=e,this.#a=n,this.#n=r,this.#r=a}createHeader(){const t=this.#t.id.split("-").join(" "),e=document.createElement("h2");return e.innerText=t,e}createForm(t){const e=document.createElement("form");e.classList.add("popup-form");for(let t=0;t<this.#e.length;t+=1)e.innerHTML+=`<label>${this.#e[t][0]} <input type='${this.#e[t][1]}' placeholder='Enter your ${this.#e[t][0]}' autocomplete="on"></label>`;return e.appendChild(l.createButton(this.#r)),this.#a&&(e.appendChild(l.createLink("forget your password?","reset-password",t)),window.screen.width<=720&&e.appendChild(l.createLink("Create account","create-account",t))),e.onsubmit=function(t){console.log("onsubmit"),console.log(t),t.preventDefault()},e}static createButton(t){const e=document.createElement("button");return e.type="button",e.innerText="OK",e.addEventListener("click",(e=>{t(e)})),e}static createLink(t,e,n){const a=document.createElement("a");return a.id=e,a.href="#",a.classList.add("popup-form-link"),a.innerText=t,a.addEventListener("click",(t=>{n(t)})),a}static createSpan(){const t=document.createElement("span");return t.innerText="X",t}renderHTML(){const t=document.createElement("div");return t.classList.add("pop-up-container"),t.append(this.createHeader(),l.createSpan(),this.#n?this.createForm(this.#n):this.createForm()),t}}var u=l,d=class{static openPopup(t){let e;const n=document.getElementById("popupWrapper"),a=document.querySelector("body"),r=t.target;switch(n?.children&&(n.innerHTML=""),a?.classList.add("lock"),n?.classList.add("visible"),r.id){case"login":e=new u(r,[["nickname","text"],["password","password"]],!0,C.loginSubmit,this.openPopup);break;case"create-account":e=new u(r,[["full name","text"],["nickname","text"],["email","email"],["password","password"]],!1,C.createAccountSubmit);break;case"reset-password":e=new u(r,[["email","email"]],!1,C.logoutSubmit),n&&(n.innerHTML="");break;case"logout":e=new u(r,[[]],!1,C.logoutSubmit),n&&(n.innerHTML="");break;default:throw new Error("eventTarget has no ID")}n&&e&&(n.appendChild(e.renderHTML()),n.classList.add("opened-popup"))}static closePopup(t){const e=document.getElementById("popupWrapper"),n=document.querySelector("body"),a=t.target;n?.classList.remove("lock"),a!==e&&a!==document.querySelector(".pop-up-container span")&&a!==document.querySelector(".pop-up-container button")||(e?.classList.remove("opened-popup"),e&&(e.innerHTML=""))}};function p(t){window.addEventListener("resize",(()=>{window.screen.width<=720?t.classList.add("login"):t.classList.remove("login")}))}function h(t){t.addEventListener("click",(t=>d.openPopup(t)))}function f(t){return(+t).toLocaleString("ru-RU")}function m(t){const e=t.querySelector(".total-price > span"),n=t.querySelectorAll(".item-filtered-container");let a=0;n.forEach((t=>{const e=t.querySelector("[type=checkbox]");if(e&&e.checked){let e=t.querySelector(".item-price-reduced");if(e||(e=t.querySelector(".item-price-amount")),e&&e.textContent){const t=function(t){const e=t.replace(",",".").replace(/\s/g,"");return Number.parseFloat(e)}(e.textContent);a+=t}}})),e&&(e.textContent=`${f(String(a))} ${C.getCurrency()}`)}class g{static createHeaderList(t){const e=document.createElement("div");return e.innerHTML=`${t}`,e.classList.add("list-header-container"),e}static createWishlistItem(t,e){const n=e.shoppingList.includes(t.data.id),a=document.createElement("div"),r=v.getSale(t);return a.classList.add("item-filtered-container"),a.innerHTML=`\n      <a class="item-filtered-img" href="#${t.data.id}" onclick="return false"><img src=${t.data.images.span_2x1} alt="${t.data.name}"></a>\n                <div class="item-filtered-description">\n                    <h2>\n                      ${t.data.name}\n                      ${r[1]}\n                    </h2>\n                    ${t.data.description}\n                    <div>\n                        <button class="item-description-likeBtn button-like_active"></button>\n                        <span class="item-purchase-prise">\n                          <span class="item-price-amount ${r[3]}">\n                            ${f(t.data.price.basic.cost)} \n                             ${r[2]}\n                          </span>\n                          ${r[0]}\n                        </span>\n                        <button class="item-purchase-button ${n?"button-purchase-added":""}">${n?"added":"purchase"}</button>\n                    </div>\n    `,g.addEvent(a,t,!1),a}static createEmptyListItems(t){const e=document.createElement("div");return e.classList.add("item-filtered-container"),e.innerHTML=`<div class="empty-list">${t}</div>`,e}static addEvent(t,e,n){const a=t.querySelector(".item-description-likeBtn"),r=t.querySelector(".item-purchase-button");v.addButtonEvent(r,a,e,n)}static async createWishlist(){const t=await C.getListData("wishlist"),e=await C.getUserData(),n=document.createElement("div");n.classList.add("items-filtered"),n.id="items-filtered";const a=document.querySelector(".main-container");a&&(a.innerHTML="",e&&t&&t.length>0?(t?.forEach((t=>{n.append(this.createWishlistItem(t,e))})),a.append(n),a.append(this.createHeaderList("Wishlist"))):(a.append(this.createEmptyListItems("Wishlist is empty")),a.append(this.createHeaderList("Wishlist"))))}static showWishlistCounter(t){const e=document.querySelector(".wishlist-span-container");e&&(e.textContent=`(${t.length})`)}static changeWishlistCounter(t,e,n){const a=C.changeUserProductList(t.data.id,"wishlist");a&&(e(a.data.wishlist),n.classList.toggle("button-like_active"))}}var b=g,y=class{static createAddedItem(t,e,n){const a="shoppingList"===n||e.shoppingList.includes(t.data.id),r="wishlist"===n||e.wishlist.includes(t.data.id),s=v.getSale(t),i=document.createElement("div");if(i.classList.add("item-filtered-container"),i.innerHTML=`\n      <a class="item-filtered-img" href="#${t.data.id}" onclick="return false">\n        <img src=${t.data.images.span_2x1} alt="${t.data.name}">\n      </a>\n      <div class="item-filtered-description">\n        <h2>\n          ${t.data.name}\n          ${s[1]}\n        </h2>\n        ${t.data.description}\n        <div>\n          <button class="item-description-likeBtn ${r?"button-like_active":""}">\n          </button>\n          <span class="item-purchase-prise">\n            <span class="item-price-amount ${s[3]}">\n              ${f(t.data.price.basic.cost)} ${s[2]}\n            </span>\n            ${s[0]}\n          </span>\n          <button class="item-purchase-button ${a?"button-purchase-added":""}">${a?"added":"purchase"}\n          </button>\n        </div>\n      </div>`,"shoppingList"===n){const e=document.createElement("div");e.classList.add("checkbox-container"),e.innerHTML=`\n        <label>\n          <input type="checkbox" id="checkbox-${t.data.id}" class="checkbox-buy" name="will-buy" checked>\n        </label>`,i.prepend(e)}return b.addEvent(i,t,!1),i}static createItem(t,e){const n=document.createElement("div");n.classList.add("main-container-product");const a=e?.wishlist.includes(t.data.id),r=e?.shoppingList.includes(t.data.id);let s="",i="";"filter"in t.data&&(s=`\n        <span class="main-container-description_flag" data-country="${t.data.filter.nation}">\n        </span>`,i=`\n        <span class="main-container-description_type" data-type="${t.data.filter.type}">\n        </span>`);const o=v.getSale(t);n.innerHTML=`\n      <a class="main-container-link ${r?"main-container-link-added":""}" href="#${t.data.id}">\n        <img class="main-container-link_img" src=${t.data.images.span_2x1} alt="${t.data.name}">\n      </a>\n      <div class="main-container-description">\n        ${s}\n        ${i}\n        <h2>\n          ${t.data.name}\n          ${o[1]}\n        </h2>\n        <span class="item-price">\n          <span class="item-price-amount ${o[3]}">\n            ${f(t.data.price.basic.cost)} \n            ${o[2]}\n          </span>\n          ${o[0]}\n        </span>\n          <button class="main-container-description_button-purchase ${r?"button-purchase-added":""}">\n            ${r?"added":"purchase"}\n          </button>                            \n      </div>\n      <button class="main-container-description_button-like ${a?"button-like_active":""}">\n      </button>`,2===t.span&&n.classList.add("span-two");const c=n.querySelector(".main-container-description_button-like"),l=n.querySelector(".main-container-description_button-purchase");return v.addButtonEvent(l,c,t,!1),n}static createSelectedItem(t,e){const n=e?.shoppingList.includes(t.data.id),a=document.createElement("div");a.classList.add("item-container"),a.id="mainItem";const r=v.getSale(t);t&&(a.innerHTML=`\n        <h2>${t.data.name}\n          ${r[1]}\n        </h2>\n        <img src=${t.data.images.span_1x1} alt="${t.data.name}"/>\n        <div class="item-container-purchase">\n          <div class="item-price">\n            <span class="item-price-amount ${r[3]}">\n              ${f(t.data.price.basic.cost)} \n              ${r[2]}\n            </span>\n            ${r[0]}\n          </div>\n          <button class="item-purchase-button ${n?"button-purchase-added":""}">${n?"added":"purchase"}\n          </button>\n        </div>\n          <div class="item-container-description">\n            <h3>Details</h3>\n            <p>${t.data.description||"coming soon..."}</p>\n          </div>`);const s=a.querySelector(".item-purchase-button");return s&&v.addButtonEvent(s,null,t,!1),a}},v=class{static showSelectedItem(t,e){const n=document.getElementById("main-visual-container"),a=document.getElementById("main"),r=document.querySelector(".item-filters");if(n){a&&n?.removeChild(a),3===n?.parentElement?.children.length&&r&&n?.parentElement?.removeChild(r);const s=y.createSelectedItem(t,e);n.appendChild(s)}}static getSale(t){let e="",n="",a="",r=`${t.data.price.basic.currency}`;if(t.data.price.basic.cost!==t.data.price.actual.cost){n=`\n      <span class = "item-arrow icon-arrow-right"></span>\n      <span class="item-price-reduced">${f(t.data.price.actual.cost)} ${t.data.price.basic.currency}</span>`;let s=Math.ceil(100-100*+t.data.price.actual.cost/+t.data.price.basic.cost);a=`<span class='item-sale'>-${s}%</span>`,r="",e="price-sale",""===t.data.price.actual.discountType&&(s=+t.data.price.basic.cost-+t.data.price.actual.cost,a=`<span class='item-sale'>-${s} ${t.data.price.basic.currency}</span>`)}return[n,a,r,e]}static addButtonEvent(t,e,n,a){t&&t.addEventListener("click",(e=>{if(S.changeShoppingListCounter(n,S.showShoppingListCounter,t),a&&!t.classList.contains("button-purchase-added")){const e=t.closest(".item-filtered-container");e?.classList.add("delete-item"),C.getLocalData("user");const n=C.getLocalData("user")?.data;if(0===n.shoppingList.length){const t=document.querySelector(".total-container");t&&(t.parentElement?.removeChild(t),e?.parentElement?.append(b.createEmptyListItems("Your shopping cart is empty")))}e?.addEventListener("animationend",(()=>{e?.parentElement?.removeChild(e);const t=document.querySelector(".items-filtered");t&&m(t)}))}})),e&&e.addEventListener("click",(t=>{b.changeWishlistCounter(n,b.showWishlistCounter,e)}))}};class w{static#s(t,e){const{classes:n}=e,a=document.createElement(t);return Object.keys(e).forEach((t=>{if("classes"!==t&&"text"!==t&&"inner"!==t)if(t.startsWith("data-")){const n=t.replace("data-","");a.dataset[n]=e[t]}else a.setAttribute(t,e[t])})),n&&(Array.isArray(n)?n.forEach((t=>{""!==t.trim()&&a.classList.add(t)})):a.classList.add(n)),e.text&&(a.textContent=e.text),e.inner&&(Array.isArray(e.inner)?a.append(...e.inner):a.append(e.inner)),a}static btn(t){return w.#s("button",t)}static img(t){return w.#s("img",t)}static link(t){return w.#s("a",t)}static div(t){return w.#s("div",t)}static input(t){return w.#s("input",t)}static label(t){return w.#s("label",t)}static span(t){return w.#s("span",t)}static p(t){return w.#s("p",t)}static nav(t){return w.#s("nav",t)}}var L=w;class E{static createHeaderList(t){const e=document.createElement("div");return e.innerHTML=`${t}`,e.classList.add("list-header-container"),e}static createShoppingListItem(t,e){const n=e.wishlist.includes(t.data.id),a=e.shoppingList.includes(t.data.id),r=document.createElement("div");r.classList.add("item-filtered-container");const s=v.getSale(t);return L.btn({classes:["item-description-likeBtn",n?"button-like_active":""]}),L.btn({text:"added",classes:["item-purchase-button",a?"button-purchase-added":""]}),L.img({src:t.data.images.span_2x1,alt:t.data.name}),r.innerHTML=`\n    <div class="checkbox-container">\n            <input type="checkbox" id="checkbox-${t.data.id}" name="name-${t.data.id}">\n        <label for="checkbox-${t.data.id}">Buy it!</label>\n    </div>\n      <a class="item-filtered-img" href="#${t.data.id}" onclick="return false"><img src=${t.data.images.span_2x1} alt="${t.data.name}"></a>\n                <div class="item-filtered-description">\n                    <h2>\n                      ${t.data.name}\n                      ${s[1]}\n                    </h2>\n                    ${t.data.description}\n                    <div>\n                        <button class="item-description-likeBtn ${n?"button-like_active":" "}"></button>\n                        <span class="item-purchase-prise">\n                          <span class="item-price-amount ${s[3]}">\n                            ${f(t.data.price.basic.cost)} \n                            ${s[2]}\n                          </span>\n                          ${s[0]}\n                        </span>\n                        <button class="item-purchase-button ${a?"button-purchase-added":""}">added</button>\n                        </div>\n                        </div>\n    `,b.addEvent(r,t,!0),r}static async createShoppingList(){const t=await C.getListData("shoppingList"),e=await C.getUserData(),n=document.createElement("div");n.classList.add("items-filtered"),n.id="items-filtered";const a=document.querySelector(".main-container");if(a){if(a.innerHTML="",t&&e){t.forEach((t=>{n.append(this.createShoppingListItem(t,e))})),a.append(this.createHeaderList("Shopping list")),a.append(n);const r=document.createElement("div");r.classList.add("total-container");const s=document.createElement("p");s.classList.add("total-price"),s.innerHTML=`Total: <span>0 ${C.getCurrency()}</span>`;const i=document.createElement("button");i.classList.add("total-button"),i.textContent="buy",r.append(s),r.append(i),n.append(r)}else a.append(b.createEmptyListItems("Your shopping cart is empty")),a.append(this.createHeaderList("Shopping list"));n.addEventListener("click",(t=>{"INPUT"===t.target.tagName&&m(n)}))}}static showShoppingListCounter(t){const e=document.querySelector(".cart-span-container");e&&(e.textContent=`(${t.length})`)}static changeShoppingListCounter(t,e,n){const a=C.changeUserProductList(t.data.id,"shoppingList");if(a){E.showShoppingListCounter(a.data.shoppingList);const t=n.classList.contains("button-purchase-added");n.textContent=t?"purchase":"added",n.classList.toggle("button-purchase-added")}}}var S=E,k=class{static setAuthorized(t){console.log(`setAuthorized: ${t}`);const e=document.querySelector(".header-container-nav");if(!e)return;if(e.innerHTML="",t){console.log(`setAuthorized: ${t}`),e.innerHTML='\n          <a id="wishlistId" class="header-nav-link hash-link" href="#wishlist"\n            >Wishlist <span class="wishlist-span-container">(0)</span></a\n          >\n          <a\n            id="shoppingId"\n            class="shopping header-nav-link hash-link"\n            href="#shoppingcart"\n            >Shopping cart <span class="cart-span-container">(0)</span></a\n          >\n          <a class="header-nav-link logout" id="logout">Logout</a>      \n      ';const n=document.getElementById("logout");n&&(p(n),h(n)),S.showShoppingListCounter(t.shoppingList),b.showWishlistCounter(t.wishlist)}else{console.log(`setAuthorized: ${t}`),e.innerHTML='           \n          <div class="header-nav-account">\n            <a class="header-nav-link" id="login">Login</a>\n            <span>or</span>\n            <a class="header-nav-link" id="create-account">Create account</a>\n          </div>\n      ';const n=document.getElementById("login"),a=document.getElementById("create-account");console.log(n),n&&(p(n),h(n)),a&&h(a)}const n=document.getElementById("popupWrapper");n&&n.addEventListener("click",(t=>d.closePopup(t)))}},C=new class{#i="";#o="RUB";getCurrency(){return this.#o}getLocalData(t){const e=localStorage.getItem(`${t}`);return e?JSON.parse(e):null}setLocalData(t,e){localStorage.setItem(t,e)}async sendUserData(){const t=this.getLocalData("user");t&&await r.changeUserData(t.data)}async refreshUserData(){try{const t=await c.refresh();return this.#i=t.profile.id,t.profile}catch(t){console.log(`refreshUserData   error:${t}`)}}async updateUserData(){const t=await r.getUserByID(this.#i);if(!t)return null;const e={data:t,dateAdded:Date.now()};return localStorage.setItem("user",JSON.stringify(e)),t}async updateProductDataByFilter(t){const e=await s.getProductsByFilter(t,this.#o);if(!e)return null;const n={data:e,dateAdded:Date.now()};return localStorage.setItem("filter",JSON.stringify(n)),e}async getProductDataByFilter(t){const e=this.getLocalData(t);if(e){if(Date.now()-e.dateAdded<3e6)return setTimeout((()=>{this.updateProductDataByFilter(t).then((()=>{}))})),e.data;{const e=await this.updateProductDataByFilter(t);if(e)return e}}else{const e=await this.updateProductDataByFilter(t);if(e)return e}return null}async getUserData(){const t=this.getLocalData("auth");if(console.log(`getUserData  auth:${t}`),!t)return null;{const t=this.getLocalData("user");if(t){if(Date.now()-t.dateAdded<3e6)return t.data;return await this.updateUserData()||null}try{return await this.updateUserData()||null}catch(t){return null}}}async getListData(t){const e=await this.getUserData();return e&&e[t].length>0?s.getProductsByList(e[t],this.#o):null}changeUserProductList(t,e){const n=this.getLocalData("user");if(n){const a=n.data[e].indexOf(t);return-1!==a?n.data[e].splice(a,1):n.data[e].push(t),localStorage.setItem("user",JSON.stringify(n)),setTimeout((()=>this.sendUserData())),n}return null}async loginSubmit(t){console.log("loginSubmit"),console.log(t);const e={email:t.target.form[0].value,password:t.target.form[1].value};console.log(e);try{const t=await c.login(e.email,e.password);if(t){localStorage.setItem("token",t.accessToken);const e={data:t.profile,dateAdded:Date.now()};localStorage.setItem("user",JSON.stringify(e)),localStorage.setItem("auth","true"),k.setAuthorized(t.profile),window.dispatchEvent(new HashChangeEvent("hashchange"))}}catch(t){console.log(t)}}async createAccountSubmit(t){console.log("createAccountSubmit"),console.log(t);const e={email:t.target.form[2].value,password:t.target.form[3].value,name:t.target.form[0].value};console.log(e);const n=await c.registration(e.email,e.password,e.name);n&&(localStorage.setItem("token",n.accessToken),localStorage.setItem("auth","true"),k.setAuthorized(n.profile),window.dispatchEvent(new HashChangeEvent("hashchange")))}async logoutSubmit(t){await c.logout(),localStorage.setItem("token",""),localStorage.setItem("user",""),localStorage.setItem("auth","false"),k.setAuthorized(void 0),window.dispatchEvent(new HashChangeEvent("hashchange"))}resetSubmit(t){console.log("createAccountSubmit")}},x=class{static createMainNavContainer(){const t=document.createElement("div");return t.classList.add("main-nav-container"),t.innerHTML='       \n      <a class="main-nav-logo" href="https://worldoftanks.com/"></a>\n      <nav class="main-nav-links">\n        <a class="main-nav-link hash-link" href="#all" data-filter="All">\n          all\n        </a>\n        <a class="main-nav-link hash-link" href="#vehicles" data-filter="Technique">\n          vehicles\n        </a>\n        <a class="main-nav-link hash-link" href="#gold" data-filter="Gold">\n          gold\n        </a>\n        <a class="main-nav-link hash-link" href="#premium" data-filter="Premium">\n          premium account\n        </a>\n        <a class="main-nav-link hash-link" href="#provisions" data-filter="Provisions">\n          consumables\n        </a>\n      </nav>',t}static showMainNavContainer(){const t=document.getElementById("main-container-id"),e=document.createElement("div");e.id="main-visual-container",t&&(t.innerHTML="",t.append(this.createMainNavContainer()),t.append(e))}};class T{#c=[];static#l(t){document.title=t}addRoute(t,e,n){return this.#c.push({hash:t,title:e,callback:n,isCalled:!1}),this}async createRoute(t,e){const n=await s.getProductsByList([t],e);return!(!n||!n.length||(this.addRoute(t,n[0].data.name,(()=>{C.getUserData().then((t=>{x.showMainNavContainer(),v.showSelectedItem(n[0],t)}))})),window.dispatchEvent(new HashChangeEvent("hashchange")),0))}findRoute(t){return this.#c.find((e=>e.hash===t))}checkRoute(t){return this.findRoute(t)?.isCalled}static#u(){return window.location.hash.slice(1)}init(t){window.addEventListener("hashchange",(async()=>{const e=T.#u(),n=this.findRoute(e);if(n)n.callback(),n.isCalled=!0,T.#l(n.title);else if(!await this.createRoute(e,t))throw T.#l("*****"),new Error(`Path #'${e}' is undefined`)}))}}var $=T;class A{static#d;static#p;static#h;static addEvent(){document.querySelectorAll(".main-nav-link").forEach((t=>{t.addEventListener("click",(t=>{const e=t.target,n=document.querySelector(".active-link");n&&n!==e&&n.classList.remove("active-link"),e.classList.add("active-link")}))}))}static filterProducts(t){let e;C.getUserData().then((n=>{console.log(`filterProducts userData:${n} `);const a=t;e=document.querySelector(`[data-filter=${t}]`),e?.classList.add("active-link"),"All"===t?this.createAllFilterProducts(n):C.getProductDataByFilter(a).then((t=>{t&&this.createFilterProducts(t,n,t,a)}))}))}static filterTechniqueProducts(t){const e=C.getLocalData("Technique");if(e){let n=!1;const a=e.data.filter((t=>("filter"in t.data&&(n=!0,this.#d&&"all"!==this.#d&&(n=t.data.filter.nation===this.#d),this.#h&&"all"!==this.#h&&(n=n&&t.data.filter.tier===this.#h),this.#p&&"all"!==this.#p&&(n=n&&t.data.filter.type===this.#p)),n)));A.showFilterProduct(a,t)}}static createFilterProducts(t,e,n,a){const r=document.getElementById("main-visual-container"),s=document.querySelector(".main-container");if(s?.lastChild&&(3===s?.children.length&&s?.removeChild(s?.lastChild),s?.removeChild(s?.lastChild)),"Technique"===a){const t=class{static createVehiclesFilter(){const t=document.createElement("div");return t.classList.add("item-filters"),t.innerHTML='\n      <div class="filter-container">\n        <button class="filter-container-checkedBtn nations arrow" id="allNations" type="button">\n        All nations\n        </button>\n        <ul class="filter-list nations-list">\n          <li class="nations-btn filter-btn" data-nation="all">\n            <button class="nations">All nations</button>\n          </li>\n          <li class="nations-btn filter-btn" data-nation="china">\n            <button class="china_btn">China</button>\n          </li>\n          <li class="nations-btn filter-btn" data-nation="france">\n            <button class="france_btn">France</button>\n          </li>\n          <li class="nations-btn filter-btn" data-nation="germany">\n            <button class="germany_btn">Germany</button>\n          </li>\n          <li class="nations-btn filter-btn" data-nation="japan">\n            <button class="japan_btn">Japan</button>\n          </li>\n          <li class="nations-btn filter-btn" data-nation="uk">\n            <button class="uk_btn">U.K.</button>\n          </li>\n          <li class="nations-btn filter-btn" data-nation="usa">\n            <button class="usa_btn">U.S.A.</button>\n          </li>\n          <li class="nations-btn filter-btn" data-nation="ussr">\n            <button class="ussr_btn">U.S.S.R.</button>\n          </li>\n        </ul>\n      </div>\n      <div class="filter-container">\n        <button class="filter-container-checkedBtn types arrow" id="allTypes" type="button">\n        All types\n        </button>\n        <ul class="filter-list type-list">\n          <li class="type-btn filter-btn" data-type="all">\n            <button class="types">All types</button>\n          </li>\n          <li class="type-btn filter-btn" data-type="lightTank">\n            <button class="light">Light Tanks</button>\n          </li>\n          <li class="type-btn filter-btn" data-type="mediumTank">\n            <button class="medium">Medium Tanks</button>\n          </li>\n          <li class="type-btn filter-btn" data-type="heavyTank">\n            <button class="heavy">Heavy Tanks</button>\n          </li>\n          <li class="type-btn filter-btn" data-type="AT-SPG">\n            <button class="destroy">Tank Destroyers</button>\n          </li>\n          <li class="type-btn filter-btn" data-type="SPG">\n            <button class="spg">SPGs</button>\n          </li>\n          <li class="type-btn filter-btn" data-type="all">\n            <button class="multirole">Multirole fighter</button>\n          </li>\n        </ul>\n      </div>\n      <div class="filter-container">\n        <button class="filter-container-checkedBtn tiers arrow" id="allTiers" type="button">\n        All Tiers\n        </button>\n        <ul class="filter-list tiers-list">\n          <li class="tires-btn filter-btn" data-tier="all">\n            <button>&#8545;-&#8553;</button>\n          </li>\n          <li class="tires-btn filter-btn" data-tier="2">\n            <button>&#8545;</button>\n          </li>\n          <li class="tires-btn filter-btn" data-tier="4">\n            <button>&#8544;&#8548;</button>\n          </li>\n          <li class="tires-btn filter-btn" data-tier="5">\n            <button>&#8548;</button>\n          </li>\n          <li class="tires-btn filter-btn" data-tier="7">\n            <button>&#8548;&#8545;</button>\n          </li>\n          <li class="tires-btn filter-btn" data-tier="9">\n            <button>&#8544;&#8553;</button>\n          </li>\n          <li class="tires-btn filter-btn" data-tier="10">\n            <button>&#8553;</button>\n          </li>\n        </ul>\n      </div>\n      <button class="item-filters-btn" id="allVehicles">Show all vehicles</button>',t}}.createVehiclesFilter();s?.append(t);const n=t.querySelectorAll(".filter-container-checkedBtn"),a=t.querySelectorAll(".filter-btn"),r=t.querySelector(".item-filters-btn"),i=t.querySelectorAll(".filter-container-checkedBtn");r?.addEventListener("click",(()=>{i.forEach(((t,e)=>{0===e&&(t.textContent="All nations"),1===e&&(t.textContent="All types"),2===e&&(t.textContent="All tiers"),t.classList.remove(t.classList[3])})),this.#p="all",this.#h="all",this.#d="all",this.filterTechniqueProducts(e)})),a.forEach((t=>{t.addEventListener("click",(t=>{const n=t.currentTarget.parentElement.parentElement?.firstElementChild;"nations-btn"===t.currentTarget.classList[0]?this.#d=t.currentTarget.dataset.nation:"type-btn"===t.currentTarget.classList[0]&&(this.#p=t.currentTarget.dataset.type),"tires-btn"!==t.currentTarget.classList[0]&&(n.classList.length>3?(n.classList.remove(n.classList[3]),n.classList.add(t.currentTarget.firstElementChild.className),n.textContent=`${t.currentTarget.firstElementChild.textContent}`):(n.classList.add(t.currentTarget.firstElementChild.className),n.textContent=`${t.currentTarget.firstElementChild.textContent}`)),"tires-btn"===t.currentTarget.classList[0]&&(n.textContent=`${t.currentTarget.firstElementChild.textContent}`,this.#h=t.currentTarget.dataset.tier),t.currentTarget.parentElement.parentElement.lastElementChild.classList.toggle("opened-list"),this.filterTechniqueProducts(e)}))})),n.forEach((t=>{t.addEventListener("click",(t=>{t.currentTarget.nextElementSibling.classList.toggle("opened-list")}))}))}r&&s?.append(r),A.showFilterProduct(t,e)}static showFilterProduct(t,e){const n=document.getElementById("main-visual-container");if(n){n.innerText="",0===t.length&&n.append(b.createEmptyListItems("List is Empty"));const a=document.createElement("div");a.id="main",a.classList.add("main-container-content"),n.appendChild(a);let r=0;t.forEach((t=>{r<20&&(a.appendChild(y.createItem(t,e)),r+=t.span)}))}!function(t,e,n,a,r){const s=document.querySelector(".main-container-content");if(s){const r=s.lastElementChild;r&&new IntersectionObserver((function(e,r){const i=s.children.length;e.forEach((e=>{if(e.isIntersecting){for(let e=i;e<i+t&&e<a.length;e+=1)s.appendChild(y.createItem(a[e],n));if(r.unobserve(e.target),s.children.length<a.length){const t=s.lastElementChild;t&&r.observe(t)}}}))}),{root:null,rootMargin:`${e}px`,threshold:0}).observe(r)}}(20,100,e,t,new v)}static createAllFilterProducts(t){const e=document.getElementById("main-visual-container"),n=document.querySelector(".main-container");n?.lastChild&&(3===n?.children.length&&n?.removeChild(n?.lastChild),n?.removeChild(n?.lastChild)),e&&n?.append(e),A.showAllFilterProduct(t)}static showAllFilterProduct(t){const e=document.getElementById("main-visual-container");if(e){e.innerText="";const n=document.createElement("div");n.id="main",n.classList.add("main-container-content"),e.appendChild(n),s.getAllProductsByLazy(1,40,C.getCurrency()).then((e=>{e&&(e.products.forEach((e=>{n.appendChild(y.createItem(e,t))})),function(t,e,n,a){const r=document.querySelector(".main-container-content");if(!r)return;const i=r.lastElementChild;if(!i)return null;const o=(t=>({root:null,rootMargin:`${t}px`,threshold:0}))(e);new IntersectionObserver((async function(e,a){const i=r.children.length;e.forEach((e=>{if(!e.isIntersecting)return;const o=+i/+t+1;s.getAllProductsByLazy(o,+t,C.getCurrency()).then((t=>{if(t&&t.products&&(t.products.forEach((t=>r.appendChild(y.createItem(t,n)))),a.unobserve(e.target),r.children.length<t.countProducts)){const t=r.lastElementChild;t&&a.observe(t)}}))}))}),o).observe(i)}(40,500,t,new v))}))}}}var P=A;const I=new $;[{hash:"",title:"Premium Store",filter:"All"},{hash:"all",title:"All products",filter:"All"},{hash:"vehicles",title:"Vehicles",filter:"Technique"},{hash:"gold",title:"Gold",filter:"Gold"},{hash:"premium",title:"Premium",filter:"Premium"},{hash:"provisions",title:"Provisions",filter:"Provisions"}].forEach((t=>{const{hash:e,title:n,filter:a}=t;I.addRoute(e,n,(()=>{x.showMainNavContainer(),P.filterProducts(a),P.addEvent()}))})),I.addRoute("wishlist","Wishlist",(()=>{b.createWishlist()})).addRoute("shoppingcart","Shopping cart",(()=>S.createShoppingList()));var B=I;console.log("main init"),document.addEventListener("DOMContentLoaded",(async()=>{const t=await C.refreshUserData(),e=C.getCurrency();t?(B.init(e),S.showShoppingListCounter(t.shoppingList),b.showWishlistCounter(t.wishlist),localStorage.setItem("auth","true"),k.setAuthorized(t),window.dispatchEvent(new HashChangeEvent("hashchange"))):(B.init(e),k.setAuthorized(void 0),localStorage.setItem("auth","false"),window.dispatchEvent(new HashChangeEvent("hashchange")))}),{once:!0}),document.addEventListener("click",(t=>{const e=t.target;let n=window.location.hash;""===n&&(n="#"),e.classList.contains("hash-link")&&e.getAttribute("href")===n&&window.dispatchEvent(new HashChangeEvent("hashchange"))}))}()}();